{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Viktor\\\\WebstormProjects\\\\askProject\\\\client\\\\src\\\\Components\\\\AuthPage\\\\AuthPage.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Link, useHistory, useParams } from \"react-router-dom\";\nimport { authAPI } from \"../../Api/api\";\nimport * as axios from \"axios\";\nexport const AuthPage = () => {\n  const history = useHistory();\n  const id = useParams().id;\n  const [form, setForm] = useState({\n    email: '',\n    password: '',\n    repassword: ''\n  });\n  const [error, setError] = useState(null);\n  console.log(error);\n\n  const changeHandler = e => {\n    setForm({ ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  useEffect(() => {\n    setForm({\n      email: '',\n      password: '',\n      repassword: ''\n    });\n  }, [id]);\n\n  const registerHandler = async e => {\n    try {\n      e.preventDefault(); // let response = await authAPI.register(form.email, form.password)\n\n      let response = await axios.post('/api/auth/register', {\n        email: form.email,\n        password: form.password\n      });\n      setForm({\n        email: '',\n        password: '',\n        repassword: ''\n      });\n    } catch (e) {\n      setError(e.response.data.message);\n    }\n  };\n\n  if (id === \"login\") {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"auth\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"auth-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: error,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }\n    }, error))), /*#__PURE__*/React.createElement(\"form\", {\n      action: \"\",\n      className: \"auth-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"auth-email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"auth-form__input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"email\",\n      onChange: changeHandler,\n      value: form.email,\n      id: \"auth-email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"auth-password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"auth-form__input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      onChange: changeHandler,\n      value: form.password,\n      id: \"auth-password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }, \"Login\")), /*#__PURE__*/React.createElement(Link, {\n      to: \"/auth/register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, \"\\u041D\\u0435\\u0442 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430?\"));\n  } else if (id === \"register\") {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"auth\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"auth-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }, \"Register\")), /*#__PURE__*/React.createElement(\"form\", {\n      action: \"\",\n      className: \"auth-form\",\n      onSubmit: registerHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"auth-email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"auth-form__input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"email\",\n      onChange: changeHandler,\n      value: form.email,\n      id: \"auth-email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"auth-password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"auth-form__input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      onChange: changeHandler,\n      value: form.password,\n      id: \"auth-password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }, \"Register\")), /*#__PURE__*/React.createElement(Link, {\n      to: \"/auth/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, \"\\u0415\\u0441\\u0442\\u044C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442?\"));\n  }\n};","map":{"version":3,"sources":["C:/Users/Viktor/WebstormProjects/askProject/client/src/Components/AuthPage/AuthPage.js"],"names":["React","useEffect","useState","Link","useHistory","useParams","authAPI","axios","AuthPage","history","id","form","setForm","email","password","repassword","error","setError","console","log","changeHandler","e","target","name","value","registerHandler","preventDefault","response","post","data","message"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport {Link, useHistory, useParams} from \"react-router-dom\"\r\nimport {authAPI} from \"../../Api/api\";\r\nimport * as axios from \"axios\";\r\n\r\n\r\nexport const AuthPage = () => {\r\n\r\n\r\n    const history = useHistory()\r\n    const id = useParams().id\r\n\r\n\r\n    const [form, setForm] = useState({\r\n        email: '',\r\n        password: '',\r\n        repassword: ''\r\n    })\r\n    const [error, setError] = useState(null)\r\n    console.log(error)\r\n\r\n\r\n    const changeHandler = e => {\r\n        setForm({...form, [e.target.name]: e.target.value})\r\n    }\r\n\r\n    useEffect(() => {\r\n        setForm({email: '', password: '', repassword: ''})\r\n    }, [id])\r\n\r\n    const registerHandler = async (e) => {\r\n        try {\r\n            e.preventDefault()\r\n            // let response = await authAPI.register(form.email, form.password)\r\n            let response = await axios.post('/api/auth/register', {email: form.email, password: form.password})\r\n            setForm({email: '', password: '', repassword: ''})\r\n        }catch (e) {\r\n            setError(e.response.data.message)\r\n        }\r\n    }\r\n\r\n\r\n\r\n    if (id === \"login\") {\r\n        return (\r\n\r\n            <div className=\"auth\">\r\n                <div className=\"auth-title\">\r\n                    <h3>Login</h3>\r\n\r\n                    <div className={error}>\r\n                        <p>{error}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <form action=\"\" className=\"auth-form\">\r\n                    <label htmlFor=\"auth-email\">Email</label>\r\n                    <div className=\"auth-form__input\">\r\n                        <input type=\"text\" name=\"email\" onChange={changeHandler} value={form.email} id=\"auth-email\"/>\r\n                    </div>\r\n                    <label htmlFor=\"auth-password\">Password</label>\r\n                    <div className=\"auth-form__input\">\r\n                        <input type=\"password\" name=\"password\" onChange={changeHandler} value={form.password} id=\"auth-password\"/>\r\n                    </div>\r\n                    <button className=\"btn\">Login</button>\r\n                </form>\r\n\r\n                <Link to=\"/auth/register\">Нет аккаунта?</Link>\r\n            </div>\r\n        )\r\n    } else if (id === \"register\") {\r\n        return (\r\n\r\n            <div className=\"auth\">\r\n                <div className=\"auth-title\">\r\n                    <h3>Register</h3>\r\n                </div>\r\n\r\n                <form action=\"\" className=\"auth-form\" onSubmit={registerHandler} >\r\n                    <label htmlFor=\"auth-email\">Email</label>\r\n                    <div className=\"auth-form__input\">\r\n                        <input type=\"text\" name=\"email\" onChange={changeHandler} value={form.email} id=\"auth-email\"/>\r\n                    </div>\r\n                    <label htmlFor=\"auth-password\">Password</label>\r\n                    <div className=\"auth-form__input\">\r\n                        <input type=\"password\" name=\"password\" onChange={changeHandler} value={form.password} id=\"auth-password\"/>\r\n                    </div>\r\n                    {/*<label htmlFor=\"auth-password\">Confirm Password</label>*/}\r\n                    {/*<div className=\"auth-form__input\">*/}\r\n                    {/*    <input type=\"password\" name=\"repassword\" onChange={changeHandler} value={form.repassword} id=\"auth-password\"/>*/}\r\n                    {/*</div>*/}\r\n                    <button className=\"btn\" type=\"submit\">Register</button>\r\n                </form>\r\n\r\n                <Link to=\"/auth/login\">Есть аккаунт?</Link>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}